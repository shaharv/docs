GDB cheat sheet
---------------

From command line, run: $ gdb â€œexec to debug"

Basics:

- Run                                     r
- Continue                                c

Breakpoints:

- Place breakpint                         b <location>
- Break on all functions matching regex   rb 'regexp'
- Delete breakpoint #N                    d <N>

Variables:

- Print variable value                    p 'var'

Registers:

- Print register value (example: eax)     info registers eax
- Print all register values               info registers

Disassemble:

- Show disasm. of function                disassemble [func]
- Show 50 instructions starting ADDR      x/50i 0xADDR

Call stack:

- Show call stack                         where
- Move N places up the stack              up <N>
- Move N places down the stack            down <N>
- Show threads information                info threads

Signals:

- Break on any signal                     catch signal all
- Show the address where SIGSEGV occured  p $_siginfo._sifields._sigfault.si_addr

Modify:

- Patch code address with "nop"           set {unsigned char}ADDR=0x90
- Patch code address with "retq"          set {unsigned char}ADDR=0xC3

Misc:

- Pid of debugged process                 info inferior
- Show all memory mappings (sections)     info proc mappings
- Follow forked child process             set follow-fork-mode child
- Set debug file folder                   set debug-file-directory /usr/lib/debug


Useful Links
------------

- LLDB GDB comparison:
  http://lldb.llvm.org/lldb-gdb.html

- GDB Technion course:
  http://tx.technion.ac.il/doc/intel13/debugger/gdb/gdb.pdf

- TrinityCore GDB guidelines:
  https://trinitycore.atlassian.net/wiki/display/tc/GDB

- GDB Wiki FAQ:
  https://sourceware.org/gdb/wiki/FAQ

- Building and installing GDB:
  https://ftp.gnu.org/old-gnu/Manuals/gdb/html_chapter/gdb_27.html

- GDB dashboard:
  https://github.com/cyrus-and/gdb-dashboard

- Alpine Linux GDB build steps:

  * find -name "config.cache" -delete
  * apk add texinfo bison flex
  * ./configure --disable-werror
